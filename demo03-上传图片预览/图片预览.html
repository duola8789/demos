<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>图片预览</title>
  <script src="../libs/jquery.min.js"></script>
  <style>
    .wrapper {
      width: 100%;
      border-radius: 5px;
    }
    .wrapper img {
      max-width: 100%;
    }
    .square {
      width: 30%;
      background: red;
    }
    .square:after {
      content: '';
      display: block;
      padding: 50% 0
    }
  </style>
</head>
<body>
<label><input type="file" id="file" multiple></label>
<div id="preview"></div>
<div class="wrapper">
  <div class="square"></div>
</div>

</body>
<script>
  'use strict';
  let input = document.querySelector('#file'),
    wrapper = document.querySelector('#preview');

  input.onchange = function (e) {
    let files = e.target.files;
    Object.keys(files).forEach(function (file) {
      let fileReader = new FileReader();
      fileReader.readAsDataURL(files[file]);
      fileReader.onload = function () {
        wrapper.innerHTML += `<img src=${fileReader.result} title=${files[file].name} >`;
      };
    })
  }
</script>
</html>
