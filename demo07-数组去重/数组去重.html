<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>数组去重</title>
</head>
<body>

</body>
<script>
  'use strict';
  let arr = [1, 3, 1, 2, 2, 5, 100, 100, -5, -5];
  let arr2 = [1, 3, 1, 2, 2, 5, 100, 100, -5, -5];
  let arr3 = [1, 3, 1, 2, 2, 5, 100, 100, -5, -5];
  let arr4 = [1, 3, 1, 2, 2, 5, 100, 100, -5, -5];
  let arr5 = [1, 3, 1, 2, 2, 5, 100, 100, -5, -5];

  //  利用对象去重
  function unique1(arr) {
    let tempObj = {};
    return arr.filter((value) => (!tempObj[value] && (tempObj[value] = true)))
  }
  console.log(unique1(arr));

  //  利用冒泡方法去重
  function unique2(arr) {
    for (let i = 0; i < arr.length; i++) {
      for (let j = i + 1; j < arr.length; j++) {
        if (arr[i] === arr[j]) {
          arr.splice(j, 1)
        }
      }
    }
    return arr;
  }
  console.log(unique2(arr2));

  //  排序后逐项比较去重
  function unique3(arr) {
    let tempArr = arr.map((value) => (value));
    tempArr.sort();
    for (let i = 0; i < tempArr.length; i++) {
      if (tempArr[i] === tempArr[i + 1]) {
        arr.splice(arr.indexOf(tempArr[i]), 1)
      }
    }
    return arr;
  }
  console.log(unique3(arr3));

  //  利用map对象去重
  function unique4(arr) {
    let map = new Map();
    return arr.filter((value) => (!map.has(value) && map.set(value, true)))
  }
  console.log(unique4(arr4));

  //  利用SET对象去重
  function unique5(arr) {
    return Array.from(new Set(arr))
  }
  console.log(unique5(arr5));


  //  数组乱序
  let arr6 = [1, 2, 3, 5, 6, 7];
  function sort(arr) {
    let randomIndex,
      temp;
    for (let i = 0; i < arr.length; i++) {
      randomIndex = Math.floor(Math.random() * (i + 1));
      temp = arr[i];
      arr[i] = arr[randomIndex];
      arr[randomIndex] = temp
    }
    return arr;
  }
  console.log(sort(arr6))
</script>
</html>
