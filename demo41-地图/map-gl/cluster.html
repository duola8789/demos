<!DOCTYPE >
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>MarkerClusterer for Baidu Map Example</title>

    <style type="text/css">
      #map {
        height: 500px;
        width: 1200px;
        margin: 20px;
      }
    </style>

    <script
      type="text/javascript"
      src="//api.map.baidu.com/api?type=webgl&v=1.0&ak=NLCXCCj7GMyTyTelUshSPttNGc24kIl9"
    ></script>

    <script type="text/javascript" src="../../libs/mapgl/TextIconOverlay.js"></script>

    <script type="text/javascript" src="../../libs/mapgl/MarkerClusterer.js"></script>

    <script type="text/javascript" src="../styles/custom-style.js"></script>
  </head>
  <body>
    <div id="map"></div>
  </body>

  <script type="text/javascript">
    // 百度地图API功能
    const map = new BMapGL.Map('map');
    const point = new BMapGL.Point(116.404, 39.915);
    map.centerAndZoom(point, 15);
    map.enableScrollWheelZoom();

    // 创建小车图标
    const myIcon = new BMapGL.Icon('../assets/car1.png', new BMapGL.Size(36, 36));

    const pt1 = new BMapGL.Point(116.404, 39.915);
    const marker1 = new BMapGL.Marker(pt1, {icon: myIcon}); // 创建标注

    map.addOverlay(marker1);

    marker1.addEventListener('mouseover', (e) => {
      const icon = marker1.getIcon();
      icon.setImageUrl('../assets/car2.png');
      marker1.setIcon(icon);
    })

    // marker1.addEventListener('mouseout', () => {
    //   const icon = marker1.getIcon();
    //   icon.setImageUrl('../assets/car1.png');
    //   marker1.setIcon(icon)
    // })

    // setTimeout(() => {
    //   marker1.setRotation(90);
    // }, 2000);

    // const markerCluster = new BMapLib.MarkerClusterer(map, {markers, maxZoom: 22});
    //
    // setTimeout(() => {
    //   map.setViewport([new BMapGL.Point(116.404, 39.915), new BMapGL.Point(116.404, 39.415)]);
    // }, 2000);
  </script>
</html>
